import{j as e,w as Xe,A as w,C as ze,a as u,B as t,s as Ae,t as Pe,u as M,n as xe,b as a,d as f,o as N,M as n,L as i,S as Ye,q as Fe,T as x,v as Ze}from"./ui-vendor-BWxpC62h.js";import{u as es,r as l}from"./react-vendor-DKKOAuGG.js";import{u as ss,S as as,N as ts}from"./useMetrics-1-lvv4cN.js";import{a as c}from"./index-ChXH1R9y.js";import"./http-vendor-B9ygI19o.js";function ds(){const I=localStorage.getItem("access_token"),Me=localStorage.getItem("username")||"Unknown",me=es(),[he,je]=l.useState(!1),[ue,Ie]=l.useState([]),[Le,ge]=l.useState(!0),[ve,m]=l.useState(null),[ye,Te]=l.useState({}),[we,fe]=l.useState(null),[Oe,Ne]=l.useState(!1),[k,L]=l.useState(null),[ke,T]=l.useState("homelab"),[O,B]=l.useState(!0),[b,q]=l.useState(""),[p,U]=l.useState(""),[W,K]=l.useState("1h"),[$,V]=l.useState(""),[G,J]=l.useState(""),[R,h]=l.useState(!1),[be,y]=l.useState(null),[Be,pe]=l.useState(!1),[qe,Ce]=l.useState(!1),[o,Se]=l.useState(null),[E,De]=l.useState([]),[z,Q]=l.useState(null),[C,X]=l.useState(""),[S,Y]=l.useState(""),[D,Z]=l.useState(""),[ee,se]=l.useState(""),[ae,te]=l.useState(!0),[He,g]=l.useState(null),[Ue,v]=l.useState(!1),[We,H]=l.useState(!1),[re,_]=l.useState(null),[le,ne]=l.useState(null),{connectionStatus:Ke}=ss(I);l.useEffect(()=>{if(!I){me("/login");return}ie(),_e()},[I]);const _e=async()=>{try{const[s,r]=await Promise.all([c.getDhcpServiceStatus("homelab"),c.getDhcpServiceStatus("lan")]);Te({homelab:s,lan:r})}catch(s){console.error("Failed to fetch DHCP service statuses:",s)}},j=async(s,r)=>{const d=`${s}-${r}`;fe(d);try{await c.controlDhcpService(s,r),setTimeout(()=>{_e()},1e3)}catch(Ee){m(Ee?.response?.data?.detail||Ee.message||`Failed to ${r} DHCP service for ${s}`)}finally{fe(null)}},ie=async()=>{ge(!0),m(null);try{const s=await c.getDhcpNetworks();Ie(s)}catch(s){m(s?.response?.data?.detail||s.message||"Failed to load DHCP networks")}finally{ge(!1)}},A=async s=>{try{const r=await c.getDhcpReservations(s);De(r)}catch(r){m(r?.response?.data?.detail||r.message||"Failed to load DHCP reservations")}},$e=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("username"),me("/login")},P=(s,r)=>{s?(L(s),T(s.network),B(s.enabled),q(s.start),U(s.end),K(s.lease_time),V(s.dns_servers?.join(", ")||""),J(s.dynamic_domain||"")):(L(null),T("homelab"),B(!0),q(""),U(""),K("1h"),V(""),J("")),y(null),Ne(!0)},oe=()=>{Ne(!1),L(null),y(null)},Ve=async()=>{y(null),h(!0);try{if(!b.trim()||!p.trim()){y("Start and end IP addresses are required"),h(!1);return}const s=$.trim()?$.split(",").map(r=>r.trim()).filter(r=>r):null;if(k){const r={enabled:O,start:b.trim(),end:p.trim(),lease_time:W.trim(),dns_servers:s,dynamic_domain:G.trim()||null};await c.updateDhcpNetwork(k.network,r)}else{const r={network:ke,enabled:O,start:b.trim(),end:p.trim(),lease_time:W.trim(),dns_servers:s,dynamic_domain:G.trim()||null};await c.createDhcpNetwork(r)}await ie(),oe()}catch(s){const r=s?.response?.data?.detail||s.message||"Failed to save network";r.includes("router-config.nix")||r.includes("cannot be")?y("DHCP networks cannot be managed via WebUI. They must be configured in router-config.nix. Only reservations can be managed through the WebUI."):y(r)}finally{h(!1)}},Ge=async()=>{if(re)try{await c.deleteDhcpNetwork(re.network),await ie(),v(!1),_(null)}catch(s){const r=s?.response?.data?.detail||s.message||"Failed to delete network";r.includes("router-config.nix")||r.includes("cannot be")?m("DHCP networks cannot be deleted via WebUI. They must be removed from router-config.nix. Only reservations can be managed through the WebUI."):m(r)}},F=async s=>{Se(s),await A(s.network),pe(!0)},Re=()=>{pe(!1),Se(null),De([])},de=s=>{s?(Q(s),X(s.hostname),Y(s.hw_address),Z(s.ip_address),se(s.comment||""),te(s.enabled)):(Q(null),X(""),Y(""),Z(""),se(""),te(!0)),g(null),Ce(!0)},ce=()=>{Ce(!1),Q(null),g(null),o&&A(o.network)},Je=async()=>{if(o){g(null),h(!0);try{if(!C.trim()){g("Hostname is required"),h(!1);return}if(!S.trim()){g("MAC address is required"),h(!1);return}if(!D.trim()){g("IP address is required"),h(!1);return}if(z){const s={hostname:C.trim(),hw_address:S.trim(),ip_address:D.trim(),comment:ee.trim()||null,enabled:ae};await c.updateDhcpReservation(z.hw_address,o.network,s)}else{const s={hostname:C.trim(),hw_address:S.trim(),ip_address:D.trim(),comment:ee.trim()||null,enabled:ae};await c.createDhcpReservation(o.network,s)}await A(o.network),ce()}catch(s){g(s?.response?.data?.detail||s.message||"Failed to save reservation")}finally{h(!1)}}},Qe=async()=>{if(!(!le||!o))try{await c.deleteDhcpReservation(le.hw_address,o.network),await A(o.network),H(!1),ne(null)}catch(s){m(s?.response?.data?.detail||s.message||"Failed to delete reservation")}};return Le?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading DHCP networks..."})]})}):e.jsxs("div",{className:"flex h-screen",children:[e.jsx(as,{onLogout:$e,isOpen:he,onClose:()=>je(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(ts,{hostname:"nixos-router",username:Me,connectionStatus:Ke,onMenuClick:()=>je(!he)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Xe,{className:"w-8 h-8 text-gray-900 dark:text-white"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"DHCP Management"})]})}),ve&&e.jsx(w,{color:"failure",className:"mb-6",onDismiss:()=>m(null),children:ve}),e.jsxs(ze,{className:"mb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"HOMELAB"}),(()=>{const s=ye.homelab,d=we?.startsWith("homelab-");return e.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[s&&e.jsx(u,{color:s.is_active?"success":"gray",size:"sm",children:s.is_active?"Running":s.is_enabled?"Stopped":"Disabled"}),e.jsx(t,{size:"xs",color:"success",onClick:()=>j("homelab","start"),disabled:d||(s?.is_active??!1),title:"Start Service",children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>j("homelab","stop"),disabled:d||!(s?.is_active??!1),title:"Stop Service",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"warning",onClick:()=>j("homelab","reload"),disabled:d||!(s?.is_active??!1),title:"Reload Service",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"purple",onClick:()=>j("homelab","restart"),disabled:d,title:"Restart Service",children:e.jsx(M,{className:"w-4 h-4"})})]})})()]})}),(()=>{const s=ue.find(r=>r.network==="homelab");return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(a,{children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"IP Range"}),e.jsx(a.HeadCell,{children:"Lease Time"}),e.jsx(a.HeadCell,{children:"DNS Servers"}),e.jsx(a.HeadCell,{children:"Dynamic Domain"}),e.jsx(a.HeadCell,{children:"Status"}),e.jsx(a.HeadCell,{children:"Actions"})]}),e.jsx(a.Body,{className:"divide-y",children:e.jsxs(a.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs(a.Cell,{className:"font-mono text-sm text-gray-900 dark:text-white",children:[s.start," - ",s.end]}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.lease_time}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.dns_servers?.join(", ")||"-"}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.dynamic_domain||"-"}),e.jsx(a.Cell,{children:e.jsx(u,{color:s.enabled?"success":"gray",children:s.enabled?"Enabled":"Disabled"})}),e.jsx(a.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>F(s),children:"Reservations"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>P(s),children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{_(s),v(!0)},children:e.jsx(N,{className:"w-4 h-4"})})]})})]},s.id)})]})}),e.jsx("div",{className:"min-[1000px]:hidden",children:e.jsxs("div",{className:"p-4 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"font-mono text-sm text-gray-900 dark:text-white",children:[s.start," - ",s.end]})}),e.jsx(u,{color:s.enabled?"success":"gray",size:"sm",children:s.enabled?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Lease Time:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:s.lease_time})]}),s.dns_servers&&s.dns_servers.length>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"DNS Servers:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:s.dns_servers.join(", ")})]}),s.dynamic_domain&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Dynamic Domain:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:s.dynamic_domain})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>F(s),className:"flex-1 min-w-[100px]",children:"Reservations"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>P(s),className:"flex-1 min-w-[80px]",children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{_(s),v(!0)},className:"flex-1 min-w-[80px]",children:e.jsx(N,{className:"w-4 h-4"})})]})})]})})]}):e.jsx(w,{color:"info",icon:xe,children:"No DHCP network configured for HOMELAB."})})()]}),e.jsxs(ze,{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"LAN"}),(()=>{const s=ye.lan,d=we?.startsWith("lan-");return e.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[s&&e.jsx(u,{color:s.is_active?"success":"gray",size:"sm",children:s.is_active?"Running":s.is_enabled?"Stopped":"Disabled"}),e.jsx(t,{size:"xs",color:"success",onClick:()=>j("lan","start"),disabled:d||(s?.is_active??!1),title:"Start Service",children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>j("lan","stop"),disabled:d||!(s?.is_active??!1),title:"Stop Service",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"warning",onClick:()=>j("lan","reload"),disabled:d||!(s?.is_active??!1),title:"Reload Service",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"purple",onClick:()=>j("lan","restart"),disabled:d,title:"Restart Service",children:e.jsx(M,{className:"w-4 h-4"})})]})})()]})}),(()=>{const s=ue.find(r=>r.network==="lan");return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(a,{children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"IP Range"}),e.jsx(a.HeadCell,{children:"Lease Time"}),e.jsx(a.HeadCell,{children:"DNS Servers"}),e.jsx(a.HeadCell,{children:"Dynamic Domain"}),e.jsx(a.HeadCell,{children:"Status"}),e.jsx(a.HeadCell,{children:"Actions"})]}),e.jsx(a.Body,{className:"divide-y",children:e.jsxs(a.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs(a.Cell,{className:"font-mono text-sm text-gray-900 dark:text-white",children:[s.start," - ",s.end]}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.lease_time}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.dns_servers?.join(", ")||"-"}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.dynamic_domain||"-"}),e.jsx(a.Cell,{children:e.jsx(u,{color:s.enabled?"success":"gray",children:s.enabled?"Enabled":"Disabled"})}),e.jsx(a.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>F(s),children:"Reservations"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>P(s),children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{_(s),v(!0)},children:e.jsx(N,{className:"w-4 h-4"})})]})})]},s.id)})]})}),e.jsx("div",{className:"min-[1000px]:hidden",children:e.jsxs("div",{className:"p-4 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"font-mono text-sm text-gray-900 dark:text-white",children:[s.start," - ",s.end]})}),e.jsx(u,{color:s.enabled?"success":"gray",size:"sm",children:s.enabled?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Lease Time:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:s.lease_time})]}),s.dns_servers&&s.dns_servers.length>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"DNS Servers:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:s.dns_servers.join(", ")})]}),s.dynamic_domain&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Dynamic Domain:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:s.dynamic_domain})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>F(s),className:"flex-1 min-w-[100px]",children:"Reservations"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>P(s),className:"flex-1 min-w-[80px]",children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{_(s),v(!0)},className:"flex-1 min-w-[80px]",children:e.jsx(N,{className:"w-4 h-4"})})]})})]})})]}):e.jsx(w,{color:"info",icon:xe,children:"No DHCP network configured for LAN."})})()]}),e.jsxs(n,{show:Oe,onClose:oe,size:"lg",children:[e.jsx(n.Header,{children:k?"Edit DHCP Network":"Create DHCP Network"}),e.jsx(n.Body,{className:"max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[be&&e.jsx(w,{color:"failure",children:be}),!k&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"networkNetwork",value:"Network *"}),e.jsxs(Ye,{id:"networkNetwork",value:ke,onChange:s=>T(s.target.value),className:"mt-1",required:!0,children:[e.jsx("option",{value:"homelab",children:"HOMELAB"}),e.jsx("option",{value:"lan",children:"LAN"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{id:"networkEnabled",checked:O,onChange:s=>B(s.target.checked)}),e.jsx(i,{htmlFor:"networkEnabled",value:"Enabled"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"networkStart",value:"IP Range Start *"}),e.jsx(x,{id:"networkStart",value:b,onChange:s=>q(s.target.value),placeholder:"192.168.2.100",required:!0,className:"mt-1 font-mono"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"networkEnd",value:"IP Range End *"}),e.jsx(x,{id:"networkEnd",value:p,onChange:s=>U(s.target.value),placeholder:"192.168.2.200",required:!0,className:"mt-1 font-mono"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"networkLeaseTime",value:"Lease Time *"}),e.jsx(x,{id:"networkLeaseTime",value:W,onChange:s=>K(s.target.value),placeholder:"1h, 1d, or 86400",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"networkDnsServers",value:"DNS Servers (comma-separated)"}),e.jsx(x,{id:"networkDnsServers",value:$,onChange:s=>V(s.target.value),placeholder:"192.168.2.1, 8.8.8.8",className:"mt-1 font-mono"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"networkDynamicDomain",value:"Dynamic DNS Domain (optional)"}),e.jsx(x,{id:"networkDynamicDomain",value:G,onChange:s=>J(s.target.value),placeholder:"dhcp.homelab.local",className:"mt-1"})]})]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"blue",onClick:Ve,disabled:R||!b.trim()||!p.trim(),children:R?"Saving...":k?"Update":"Create"}),e.jsx(t,{color:"gray",onClick:oe,children:"Cancel"})]})]}),e.jsxs(n,{show:Be,onClose:Re,size:"6xl",children:[e.jsx(n.Header,{children:o?`${o.network.toUpperCase()} DHCP Reservations`:"DHCP Reservations"}),e.jsxs(n.Body,{className:"max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Static IP Reservations (",E.length,")"]}),e.jsxs(t,{size:"sm",color:"blue",onClick:()=>de(),children:[e.jsx(Ze,{className:"w-4 h-4 mr-1"}),"New Reservation"]})]}),E.length===0?e.jsx(w,{color:"info",icon:xe,children:"No reservations configured for this network."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(a,{children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"Hostname"}),e.jsx(a.HeadCell,{children:"MAC Address"}),e.jsx(a.HeadCell,{children:"IP Address"}),e.jsx(a.HeadCell,{children:"Comment"}),e.jsx(a.HeadCell,{children:"Status"}),e.jsx(a.HeadCell,{children:"Actions"})]}),e.jsx(a.Body,{className:"divide-y",children:E.map(s=>e.jsxs(a.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(a.Cell,{className:"font-medium text-gray-900 dark:text-white",children:s.hostname}),e.jsx(a.Cell,{className:"font-mono text-sm text-gray-500 dark:text-gray-400",children:s.hw_address}),e.jsx(a.Cell,{className:"font-mono text-sm text-gray-900 dark:text-white",children:s.ip_address}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.comment||"-"}),e.jsx(a.Cell,{children:e.jsx(u,{color:s.enabled?"success":"gray",children:s.enabled?"Enabled":"Disabled"})}),e.jsx(a.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"gray",onClick:()=>de(s),children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{ne(s),H(!0)},children:e.jsx(N,{className:"w-4 h-4"})})]})})]},s.id))})]})}),e.jsx("div",{className:"min-[1000px]:hidden space-y-3",children:E.map(s=>e.jsxs("div",{className:"p-3 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:s.hostname}),e.jsx(u,{color:s.enabled?"success":"gray",size:"sm",children:s.enabled?"Enabled":"Disabled"})]})}),e.jsxs("div",{className:"space-y-1 text-sm mb-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"MAC Address:"}),e.jsx("span",{className:"font-mono text-xs text-gray-900 dark:text-gray-100 break-all",children:s.hw_address})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"IP Address:"}),e.jsx("span",{className:"font-mono text-xs text-gray-900 dark:text-gray-100",children:s.ip_address})]}),s.comment&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Comment:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 text-xs",children:s.comment})]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700 flex gap-2",children:[e.jsx(t,{size:"xs",color:"gray",onClick:()=>de(s),className:"flex-1",children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{ne(s),H(!0)},className:"flex-1",children:e.jsx(N,{className:"w-4 h-4"})})]})]},s.id))})]})]}),e.jsx(n.Footer,{children:e.jsx(t,{color:"gray",onClick:Re,children:"Close"})})]}),e.jsxs(n,{show:qe,onClose:ce,size:"lg",children:[e.jsx(n.Header,{children:z?"Edit Reservation":"Create Reservation"}),e.jsx(n.Body,{className:"max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[He&&e.jsx(w,{color:"failure",children:He}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"reservationHostname",value:"Hostname *"}),e.jsx(x,{id:"reservationHostname",value:C,onChange:s=>X(s.target.value),placeholder:"desktop",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"reservationHwAddress",value:"MAC Address *"}),e.jsx(x,{id:"reservationHwAddress",value:S,onChange:s=>Y(s.target.value),placeholder:"11:22:33:44:55:66",required:!0,className:"mt-1 font-mono"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"reservationIpAddress",value:"IP Address *"}),e.jsx(x,{id:"reservationIpAddress",value:D,onChange:s=>Z(s.target.value),placeholder:"192.168.2.50",required:!0,className:"mt-1 font-mono"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"reservationComment",value:"Comment (optional)"}),e.jsx(x,{id:"reservationComment",value:ee,onChange:s=>se(s.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{id:"reservationEnabled",checked:ae,onChange:s=>te(s.target.checked)}),e.jsx(i,{htmlFor:"reservationEnabled",value:"Enabled"})]})]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"blue",onClick:Je,disabled:R||!C.trim()||!S.trim()||!D.trim(),children:R?"Saving...":z?"Update":"Create"}),e.jsx(t,{color:"gray",onClick:ce,children:"Cancel"})]})]}),e.jsxs(n,{show:Ue,onClose:()=>v(!1),size:"md",children:[e.jsx(n.Header,{children:"Delete DHCP Network"}),e.jsx(n.Body,{children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to delete the DHCP network for ",e.jsx("strong",{children:re?.network}),"? This will also delete all reservations for this network."]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"failure",onClick:Ge,children:"Delete"}),e.jsx(t,{color:"gray",onClick:()=>v(!1),children:"Cancel"})]})]}),e.jsxs(n,{show:We,onClose:()=>H(!1),size:"md",children:[e.jsx(n.Header,{children:"Delete Reservation"}),e.jsx(n.Body,{children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to delete the reservation for ",e.jsx("strong",{children:le?.hostname}),"?"]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"failure",onClick:Qe,children:"Delete"}),e.jsx(t,{color:"gray",onClick:()=>H(!1),children:"Cancel"})]})]})]})})]})]})}export{ds as Dhcp};
