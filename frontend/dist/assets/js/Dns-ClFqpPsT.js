import{j as e,r as Ge,A as g,C as He,a as o,B as t,s as Ae,t as Fe,u as z,o as Te,b as l,c as N,v as y,M as c,L as d,T as p,S as Ze,w as Je}from"./ui-vendor-zVfStxq8.js";import{u as Qe,r as i}from"./react-vendor-DKKOAuGG.js";import{u as Xe,S as es,N as ss}from"./useMetrics-D8i2cHx-.js";import{a as x}from"./index-DEGmFeEx.js";import"./http-vendor-B9ygI19o.js";function ns(){const O=localStorage.getItem("access_token"),Ee=localStorage.getItem("username")||"Unknown",je=Qe(),[ge,ve]=i.useState(!1),[fe,Me]=i.useState([]),[ze,Ne]=i.useState(!0),[ye,h]=i.useState(null),[B,Oe]=i.useState({}),[pe,be]=i.useState(null),[Be,we]=i.useState(!1),[_,L]=i.useState(null),[b,V]=i.useState(""),[I,q]=i.useState("homelab"),[P,K]=i.useState(!0),[$,Y]=i.useState(""),[U,W]=i.useState(""),[G,J]=i.useState(!0),[H,u]=i.useState(!1),[ke,w]=i.useState(null),[Le,Ce]=i.useState(!1),[Ve,Se]=i.useState(!1),[n,Q]=i.useState(null),[X,De]=i.useState([]),[ee,se]=i.useState(null),[k,ae]=i.useState(""),[C,le]=i.useState("A"),[S,te]=i.useState(""),[re,ie]=i.useState(""),[ne,ce]=i.useState(!0),[A,v]=i.useState(null),[Ie,j]=i.useState(!1),[qe,D]=i.useState(!1),[F,R]=i.useState(null),[oe,de]=i.useState(null),{connectionStatus:Pe}=Xe(O);i.useEffect(()=>{if(!O){je("/login");return}xe(),Re()},[O]);const xe=async()=>{Ne(!0),h(null);try{const s=await x.getDnsZones();Me(s)}catch(s){h(s?.response?.data?.detail||s.message||"Failed to load DNS zones")}finally{Ne(!1)}},Re=async()=>{try{const[s,a]=await Promise.all([x.getDnsServiceStatus("homelab"),x.getDnsServiceStatus("lan")]);Oe({homelab:s,lan:a})}catch(s){console.error("Failed to fetch DNS service statuses:",s)}},m=async(s,a)=>{const r=`${s}-${a}`;be(r);try{await x.controlDnsService(s,a),setTimeout(()=>{Re()},1e3)}catch(_e){h(_e?.response?.data?.detail||_e.message||`Failed to ${a} DNS service`)}finally{be(null)}},T=s=>{const a=B[s.network];return!a||!a.exists?{is_active:!1,is_enabled:!1}:{is_active:a.is_active,is_enabled:a.is_enabled}},Z=async(s,a)=>{try{const r=await x.getDnsRecords(s,a);De(r)}catch(r){h(r?.response?.data?.detail||r.message||"Failed to load DNS records")}},Ke=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("username"),je("/login")},f=(s,a)=>{s?(L(s),V(s.name),q(s.network),K(s.authoritative),Y(s.forward_to||""),W(s.delegate_to||""),J(s.enabled)):(L(null),V(""),q(a||"homelab"),K(!0),Y(""),W(""),J(!0)),w(null),we(!0)},me=()=>{we(!1),L(null),w(null)},$e=async()=>{w(null),u(!0);try{if(!b.trim()){w("Zone name is required"),u(!1);return}if(_){const s={name:b.trim(),network:I,authoritative:P,forward_to:$.trim()||null,delegate_to:U.trim()||null,enabled:G};await x.updateDnsZone(_.name,_.network,s)}else{const s={name:b.trim(),network:I,authoritative:P,forward_to:$.trim()||null,delegate_to:U.trim()||null,enabled:G};await x.createDnsZone(s)}await xe(),me()}catch(s){w(s?.response?.data?.detail||s.message||"Failed to save zone")}finally{u(!1)}},Ye=async()=>{if(F)try{await x.deleteDnsZone(F.name,F.network),await xe(),j(!1),R(null)}catch(s){h(s?.response?.data?.detail||s.message||"Failed to delete zone")}},E=async s=>{Q(s),await Z(s.name,s.network),Ce(!0)},he=(s,a)=>{Q(s),a?(se(a),ae(a.name),le(a.type),te(a.value),ie(a.comment||""),ce(a.enabled)):(se(null),ae(""),le("A"),te(""),ie(""),ce(!0)),v(null),Se(!0)},M=()=>{Ce(!1),Q(null),De([])},ue=()=>{Se(!1),se(null),v(null),n&&Z(n.name,n.network)},Ue=async()=>{if(n){v(null),u(!0);try{if(!k.trim()){v("Record name is required"),u(!1);return}if(!S.trim()){v("Record value is required"),u(!1);return}if(ee){const s={name:k.trim(),type:C,value:S.trim(),comment:re.trim()||null,enabled:ne};await x.updateDnsRecord(ee.name,n.network,n.name,s)}else{const s={name:k.trim(),type:C,value:S.trim(),comment:re.trim()||null,enabled:ne};await x.createDnsRecord(n.name,n.network,s)}await Z(n.name,n.network),ue()}catch(s){v(s?.response?.data?.detail||s.message||"Failed to save record")}finally{u(!1)}}},We=async()=>{if(!(!oe||!n))try{await x.deleteDnsRecord(oe.name,n.network,n.name),await Z(n.name,n.network),D(!1),de(null)}catch(s){h(s?.response?.data?.detail||s.message||"Failed to delete record")}};return ze?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading DNS zones..."})]})}):e.jsxs("div",{className:"flex h-screen",children:[e.jsx(es,{onLogout:Ke,isOpen:ge,onClose:()=>ve(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(ss,{hostname:"nixos-router",username:Ee,connectionStatus:Pe,onMenuClick:()=>ve(!ge)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ge,{className:"w-8 h-8 text-gray-900 dark:text-white"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"DNS Management"})]})}),ye&&e.jsx(g,{color:"failure",className:"mb-6",onDismiss:()=>h(null),children:ye}),e.jsxs(He,{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"HOMELAB"}),(()=>{const s=B.homelab,r=pe?.startsWith("homelab-");return e.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[s&&e.jsx(o,{color:s.is_active?"success":"gray",size:"sm",children:s.is_active?"Running":s.is_enabled?"Stopped":"Disabled"}),e.jsx(t,{size:"xs",color:"success",onClick:()=>m("homelab","start"),disabled:r||(s?.is_active??!1),title:"Start Service",children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>m("homelab","stop"),disabled:r||!(s?.is_active??!1),title:"Stop Service",children:e.jsx(Fe,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"warning",onClick:()=>m("homelab","reload"),disabled:r||!(s?.is_active??!1),title:"Reload Service",children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"purple",onClick:()=>m("homelab","restart"),disabled:r,title:"Restart Service",children:e.jsx(z,{className:"w-4 h-4"})})]})})()]}),e.jsx(t,{color:"blue",onClick:()=>f(void 0,"homelab"),children:"New Zone"})]}),(()=>{const s=fe.filter(a=>a.network==="homelab");return s.length===0?e.jsx(g,{color:"info",icon:Te,children:"No DNS zones configured for HOMELAB. Create a zone to get started."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(l,{children:[e.jsxs(l.Head,{children:[e.jsx(l.HeadCell,{children:"Name"}),e.jsx(l.HeadCell,{children:"Authoritative"}),e.jsx(l.HeadCell,{children:"Forward To"}),e.jsx(l.HeadCell,{children:"Delegate To"}),e.jsx(l.HeadCell,{children:"Status"}),e.jsx(l.HeadCell,{children:"Actions"})]}),e.jsx(l.Body,{className:"divide-y",children:s.map(a=>e.jsxs(l.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(l.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:a.name}),e.jsx(l.Cell,{children:e.jsx(o,{color:a.authoritative?"success":"gray",children:a.authoritative?"Yes":"No"})}),e.jsx(l.Cell,{className:"text-gray-500 dark:text-gray-400",children:a.forward_to||"-"}),e.jsx(l.Cell,{className:"text-gray-500 dark:text-gray-400",children:a.delegate_to||"-"}),e.jsx(l.Cell,{children:(()=>{const r=T(a);return e.jsx(o,{color:r.is_active?"success":"gray",children:r.is_active?"Running":r.is_enabled?"Stopped":"Disabled"})})()}),e.jsx(l.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>E(a),children:"Records"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>f(a),children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{R(a),j(!0)},children:e.jsx(y,{className:"w-4 h-4"})})]})})]},a.id))})]})}),e.jsx("div",{className:"min-[1000px]:hidden space-y-3",children:s.map(a=>{const r=T(a);return e.jsxs("div",{className:"p-4 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"font-semibold text-lg mb-1 text-gray-900 dark:text-white",children:a.name})}),e.jsx(o,{color:r.is_active?"success":"gray",size:"sm",children:r.is_active?"Running":r.is_enabled?"Stopped":"Disabled"})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Authoritative:"}),e.jsx(o,{color:a.authoritative?"success":"gray",size:"sm",children:a.authoritative?"Yes":"No"})]}),a.forward_to&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Forward To:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:a.forward_to})]}),a.delegate_to&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Delegate To:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:a.delegate_to})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-2 mb-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>E(a),className:"flex-1 min-w-[80px]",children:"Records"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>f(a),className:"flex-1 min-w-[80px]",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{R(a),j(!0)},className:"flex-1 min-w-[80px]",children:e.jsx(y,{className:"w-4 h-4"})})]})})]},a.id)})})]})})()]}),e.jsxs(He,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"LAN"}),(()=>{const s=B.lan,r=pe?.startsWith("lan-");return e.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[s&&e.jsx(o,{color:s.is_active?"success":"gray",size:"sm",children:s.is_active?"Running":s.is_enabled?"Stopped":"Disabled"}),e.jsx(t,{size:"xs",color:"success",onClick:()=>m("lan","start"),disabled:r||(s?.is_active??!1),title:"Start Service",children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>m("lan","stop"),disabled:r||!(s?.is_active??!1),title:"Stop Service",children:e.jsx(Fe,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"warning",onClick:()=>m("lan","reload"),disabled:r||!(s?.is_active??!1),title:"Reload Service",children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"purple",onClick:()=>m("lan","restart"),disabled:r,title:"Restart Service",children:e.jsx(z,{className:"w-4 h-4"})})]})})()]}),e.jsx(t,{color:"blue",onClick:()=>f(void 0,"lan"),children:"New Zone"})]}),(()=>{const s=fe.filter(a=>a.network==="lan");return s.length===0?e.jsx(g,{color:"info",icon:Te,children:"No DNS zones configured for LAN. Create a zone to get started."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(l,{children:[e.jsxs(l.Head,{children:[e.jsx(l.HeadCell,{children:"Name"}),e.jsx(l.HeadCell,{children:"Authoritative"}),e.jsx(l.HeadCell,{children:"Forward To"}),e.jsx(l.HeadCell,{children:"Delegate To"}),e.jsx(l.HeadCell,{children:"Status"}),e.jsx(l.HeadCell,{children:"Actions"})]}),e.jsx(l.Body,{className:"divide-y",children:s.map(a=>e.jsxs(l.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(l.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:a.name}),e.jsx(l.Cell,{children:e.jsx(o,{color:a.authoritative?"success":"gray",children:a.authoritative?"Yes":"No"})}),e.jsx(l.Cell,{className:"text-gray-500 dark:text-gray-400",children:a.forward_to||"-"}),e.jsx(l.Cell,{className:"text-gray-500 dark:text-gray-400",children:a.delegate_to||"-"}),e.jsx(l.Cell,{children:(()=>{const r=T(a);return e.jsx(o,{color:r.is_active?"success":"gray",children:r.is_active?"Running":r.is_enabled?"Stopped":"Disabled"})})()}),e.jsx(l.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>E(a),children:"Records"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>f(a),children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{R(a),j(!0)},children:e.jsx(y,{className:"w-4 h-4"})})]})})]},a.id))})]})}),e.jsx("div",{className:"min-[1000px]:hidden space-y-3",children:s.map(a=>{const r=T(a);return e.jsxs("div",{className:"p-4 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"font-semibold text-lg mb-1 text-gray-900 dark:text-white",children:a.name})}),e.jsx(o,{color:r.is_active?"success":"gray",size:"sm",children:r.is_active?"Running":r.is_enabled?"Stopped":"Disabled"})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Authoritative:"}),e.jsx(o,{color:a.authoritative?"success":"gray",size:"sm",children:a.authoritative?"Yes":"No"})]}),a.forward_to&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Forward To:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:a.forward_to})]}),a.delegate_to&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Delegate To:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:a.delegate_to})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-2 mb-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>E(a),className:"flex-1 min-w-[80px]",children:"Records"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>f(a),className:"flex-1 min-w-[80px]",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{R(a),j(!0)},className:"flex-1 min-w-[80px]",children:e.jsx(y,{className:"w-4 h-4"})})]})})]},a.id)})})]})})()]}),e.jsxs(c,{show:Be,onClose:me,size:"lg",children:[e.jsx(c.Header,{children:_?"Edit DNS Zone":"Create DNS Zone"}),e.jsx(c.Body,{className:"max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[ke&&e.jsx(g,{color:"failure",children:ke}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"zoneName",value:"Zone Name *"}),e.jsx(p,{id:"zoneName",value:b,onChange:s=>V(s.target.value),placeholder:"example.com",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"zoneNetwork",value:"Network *"}),e.jsxs(Ze,{id:"zoneNetwork",value:I,onChange:s=>q(s.target.value),className:"mt-1",children:[e.jsx("option",{value:"homelab",children:"HOMELAB"}),e.jsx("option",{value:"lan",children:"LAN"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"zoneAuthoritative",checked:P,onChange:s=>K(s.target.checked),className:"w-4 h-4"}),e.jsx(d,{htmlFor:"zoneAuthoritative",value:"Authoritative (serve locally)"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"zoneForwardTo",value:"Forward To (optional)"}),e.jsx(p,{id:"zoneForwardTo",value:$,onChange:s=>Y(s.target.value),placeholder:"192.168.1.1",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"zoneDelegateTo",value:"Delegate To (optional)"}),e.jsx(p,{id:"zoneDelegateTo",value:U,onChange:s=>W(s.target.value),placeholder:"ns1.example.com",className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"zoneEnabled",checked:G,onChange:s=>J(s.target.checked),className:"w-4 h-4"}),e.jsx(d,{htmlFor:"zoneEnabled",value:"Enabled"})]})]})}),e.jsxs(c.Footer,{children:[e.jsx(t,{color:"blue",onClick:$e,disabled:H||!b.trim(),children:H?"Saving...":"Save"}),e.jsx(t,{color:"gray",onClick:me,children:"Cancel"})]})]}),e.jsxs(c,{show:Le,onClose:M,size:"4xl",children:[e.jsx(c.Header,{children:n?`${n.network.toUpperCase()} DNS Records - ${n.name}`:"DNS Records"}),e.jsx(c.Body,{className:"max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[A&&e.jsx(g,{color:"failure",children:A}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Records"}),n&&e.jsxs(t,{size:"sm",color:"blue",onClick:()=>he(n),children:[e.jsx(Je,{className:"w-4 h-4 mr-1"}),"Add Record"]})]}),X.length===0?e.jsx(g,{color:"info",children:"No records in this zone. Add a record to get started."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(l,{children:[e.jsxs(l.Head,{children:[e.jsx(l.HeadCell,{children:"Name"}),e.jsx(l.HeadCell,{children:"Type"}),e.jsx(l.HeadCell,{children:"Value"}),e.jsx(l.HeadCell,{children:"Comment"}),e.jsx(l.HeadCell,{children:"Status"}),e.jsx(l.HeadCell,{children:"Actions"})]}),e.jsx(l.Body,{className:"divide-y",children:X.map(s=>e.jsxs(l.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(l.Cell,{className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsx(l.Cell,{children:e.jsx(o,{color:s.type==="A"?"blue":"purple",children:s.type})}),e.jsx(l.Cell,{className:"font-mono text-sm text-gray-900 dark:text-white",children:s.value}),e.jsx(l.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.comment||"-"}),e.jsx(l.Cell,{children:e.jsx(o,{color:s.enabled?"success":"gray",children:s.enabled?"Enabled":"Disabled"})}),e.jsx(l.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"gray",onClick:()=>{M(),he(n,s)},children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{de(s),D(!0)},children:e.jsx(y,{className:"w-4 h-4"})})]})})]},s.id))})]})}),e.jsx("div",{className:"min-[1000px]:hidden space-y-3",children:X.map(s=>e.jsxs("div",{className:"p-3 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:s.name}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(o,{color:s.type==="A"?"blue":"purple",size:"sm",children:s.type}),e.jsx(o,{color:s.enabled?"success":"gray",size:"sm",children:s.enabled?"Enabled":"Disabled"})]})]})}),e.jsxs("div",{className:"space-y-1 text-sm mb-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Value:"}),e.jsx("span",{className:"font-mono text-xs text-gray-900 dark:text-gray-100 break-all",children:s.value})]}),s.comment&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Comment:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 text-xs",children:s.comment})]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700 flex gap-2",children:[e.jsx(t,{size:"xs",color:"gray",onClick:()=>{M(),he(n,s)},className:"flex-1",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{de(s),D(!0)},className:"flex-1",children:e.jsx(y,{className:"w-4 h-4"})})]})]},s.id))})]})]})}),e.jsx(c.Footer,{children:e.jsx(t,{color:"gray",onClick:M,children:"Close"})})]}),e.jsxs(c,{show:Ve,onClose:ue,size:"lg",children:[e.jsx(c.Header,{children:ee?"Edit DNS Record":"Create DNS Record"}),e.jsx(c.Body,{className:"max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[A&&e.jsx(g,{color:"failure",children:A}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"recordName",value:"Record Name *"}),e.jsx(p,{id:"recordName",value:k,onChange:s=>ae(s.target.value),placeholder:"hostname.example.com",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"recordType",value:"Record Type *"}),e.jsxs(Ze,{id:"recordType",value:C,onChange:s=>le(s.target.value),className:"mt-1",children:[e.jsx("option",{value:"A",children:"A (IPv4 Address)"}),e.jsx("option",{value:"CNAME",children:"CNAME (Alias)"})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"recordValue",value:C==="A"?"IP Address *":"Target Hostname *"}),e.jsx(p,{id:"recordValue",value:S,onChange:s=>te(s.target.value),placeholder:C==="A"?"192.168.1.1":"target.example.com",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"recordComment",value:"Comment (optional)"}),e.jsx(p,{id:"recordComment",value:re,onChange:s=>ie(s.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"recordEnabled",checked:ne,onChange:s=>ce(s.target.checked),className:"w-4 h-4"}),e.jsx(d,{htmlFor:"recordEnabled",value:"Enabled"})]})]})}),e.jsxs(c.Footer,{children:[e.jsx(t,{color:"blue",onClick:Ue,disabled:H||!k.trim()||!S.trim(),children:H?"Saving...":"Save"}),e.jsx(t,{color:"gray",onClick:ue,children:"Cancel"})]})]}),e.jsxs(c,{show:Ie,onClose:()=>j(!1),size:"md",children:[e.jsx(c.Header,{children:"Delete Zone"}),e.jsx(c.Body,{children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to delete zone ",e.jsx("strong",{children:F?.name}),"? This will also delete all records in this zone."]})}),e.jsxs(c.Footer,{children:[e.jsx(t,{color:"failure",onClick:Ye,children:"Delete"}),e.jsx(t,{color:"gray",onClick:()=>j(!1),children:"Cancel"})]})]}),e.jsxs(c,{show:qe,onClose:()=>D(!1),size:"md",children:[e.jsx(c.Header,{children:"Delete Record"}),e.jsx(c.Body,{children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to delete record ",e.jsx("strong",{children:oe?.name}),"?"]})}),e.jsxs(c.Footer,{children:[e.jsx(t,{color:"failure",onClick:We,children:"Delete"}),e.jsx(t,{color:"gray",onClick:()=>D(!1),children:"Cancel"})]})]})]})})]})]})}export{ns as Dns};
