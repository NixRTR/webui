import{j as e,x as Ye,A as w,C as ze,a as u,B as t,s as Ae,t as Pe,u as I,o as me,b as a,c as N,v as f,M as n,L as c,S as Ze,p as Fe,T as x,w as es}from"./ui-vendor-CLzVGpw3.js";import{u as ss,a as r}from"./react-vendor-4URc7N9U.js";import{u as as,S as ts,N as rs}from"./useMetrics-CslwQGJI.js";import{a as d}from"./index-BnG-Hx-o.js";import"./http-vendor-B9ygI19o.js";function os(){const L=localStorage.getItem("access_token"),Me=localStorage.getItem("username")||"Unknown",T=ss(),[he,je]=r.useState(!1),[ue,Ie]=r.useState([]),[Le,ge]=r.useState(!0),[ve,g]=r.useState(null),[ye,Te]=r.useState({}),[we,Ne]=r.useState(null),[Oe,fe]=r.useState(!1),[k,O]=r.useState(null),[ke,B]=r.useState("homelab"),[q,K]=r.useState(!0),[p,$]=r.useState(""),[b,U]=r.useState(""),[V,W]=r.useState("1h"),[G,J]=r.useState(""),[Q,X]=r.useState(""),[E,m]=r.useState(!1),[pe,C]=r.useState(null),[Be,be]=r.useState(!1),[qe,Ce]=r.useState(!1),[i,Se]=r.useState(null),[z,De]=r.useState([]),[S,Y]=r.useState(null),[D,Z]=r.useState(""),[h,ee]=r.useState(""),[H,A]=r.useState(""),[se,ae]=r.useState(""),[te,re]=r.useState(!0),[He,v]=r.useState(null),[Ke,y]=r.useState(!1),[$e,_]=r.useState(!1),[le,R]=r.useState(null),[ne,ie]=r.useState(null),{connectionStatus:Ue}=as(L);r.useEffect(()=>{if(!L){T("/login");return}ce(),_e()},[L,T]);const _e=async()=>{try{const[s,l]=await Promise.all([d.getDhcpServiceStatus("homelab"),d.getDhcpServiceStatus("lan")]);Te({homelab:s,lan:l})}catch(s){console.error("Failed to fetch DHCP service statuses:",s)}},j=async(s,l)=>{const o=`${s}-${l}`;Ne(o);try{await d.controlDhcpService(s,l),setTimeout(()=>{_e()},1e3)}catch(Ee){g(Ee?.response?.data?.detail||Ee.message||`Failed to ${l} DHCP service for ${s}`)}finally{Ne(null)}},ce=async()=>{ge(!0),g(null);try{const s=await d.getDhcpNetworks();Ie(s)}catch(s){g(s?.response?.data?.detail||s.message||"Failed to load DHCP networks")}finally{ge(!1)}},P=async s=>{try{const l=await d.getDhcpReservations(s);De(l)}catch(l){g(l?.response?.data?.detail||l.message||"Failed to load DHCP reservations")}},Ve=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("username"),T("/login")},F=(s,l)=>{s?(O(s),B(s.network),K(s.enabled),$(s.start),U(s.end),W(s.lease_time),J(s.dns_servers?.join(", ")||""),X(s.dynamic_domain||"")):(O(null),B("homelab"),K(!0),$(""),U(""),W("1h"),J(""),X("")),C(null),fe(!0)},de=()=>{fe(!1),O(null),C(null)},We=async()=>{C(null),m(!0);try{if(!p.trim()||!b.trim()){C("Start and end IP addresses are required"),m(!1);return}const s=G.trim()?G.split(",").map(l=>l.trim()).filter(l=>l):null;if(k){const l={enabled:q,start:p.trim(),end:b.trim(),lease_time:V.trim(),dns_servers:s,dynamic_domain:Q.trim()||null};await d.updateDhcpNetwork(k.network,l)}else{const l={network:ke,enabled:q,start:p.trim(),end:b.trim(),lease_time:V.trim(),dns_servers:s,dynamic_domain:Q.trim()||null};await d.createDhcpNetwork(l)}await ce(),de()}catch(s){const l=s?.response?.data?.detail||s.message||"Failed to save network";C(l)}finally{m(!1)}},Ge=async()=>{if(le)try{await d.deleteDhcpNetwork(le.network),await ce(),y(!1),R(null)}catch(s){g(s?.response?.data?.detail||s.message||"Failed to delete network")}},M=async s=>{Se(s),await P(s.network),be(!0)},Re=()=>{be(!1),Se(null),De([])},oe=async s=>{s?(Y(s),Z(s.hostname),ee(s.hw_address),A(s.ip_address),ae(s.comment||""),re(s.enabled)):(Y(null),Z(""),ee(""),A(""),ae(""),re(!0)),v(null),Ce(!0)},Je=async()=>{if(!(!i||!h.trim()))try{const{ip_address:s}=await d.getDhcpSuggestIp(i.network,h.trim());s&&A(s)}catch{}},xe=()=>{Ce(!1),Y(null),v(null),i&&P(i.network)},Qe=async()=>{if(i){v(null),m(!0);try{if(!D.trim()){v("Hostname is required"),m(!1);return}if(!h.trim()){v("MAC address is required"),m(!1);return}if(!H.trim()){v("IP address is required"),m(!1);return}if(S){const s={hostname:D.trim(),hw_address:h.trim(),ip_address:H.trim(),comment:se.trim()||null,enabled:te};await d.updateDhcpReservation(S.hw_address,i.network,s)}else{const s={hostname:D.trim(),hw_address:h.trim(),ip_address:H.trim(),comment:se.trim()||null,enabled:te};await d.createDhcpReservation(i.network,s)}await P(i.network),xe()}catch(s){v(s?.response?.data?.detail||s.message||"Failed to save reservation")}finally{m(!1)}}},Xe=async()=>{if(!(!ne||!i))try{await d.deleteDhcpReservation(ne.hw_address,i.network),await P(i.network),_(!1),ie(null)}catch(s){g(s?.response?.data?.detail||s.message||"Failed to delete reservation")}};return Le?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading DHCP networks..."})]})}):e.jsxs("div",{className:"flex h-screen",children:[e.jsx(ts,{onLogout:Ve,isOpen:he,onClose:()=>je(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(rs,{hostname:"nixos-router",username:Me,connectionStatus:Ue,onMenuClick:()=>je(!he)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ye,{className:"w-8 h-8 text-gray-900 dark:text-white"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"DHCP Management"})]})}),ve&&e.jsx(w,{color:"failure",className:"mb-6",onDismiss:()=>g(null),children:ve}),e.jsxs(ze,{className:"mb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"HOMELAB"}),(()=>{const s=ye.homelab,o=we?.startsWith("homelab-");return e.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[s&&e.jsx(u,{color:s.is_active?"success":"gray",size:"sm",children:s.is_active?"Running":s.is_enabled?"Stopped":"Disabled"}),e.jsx(t,{size:"xs",color:"success",onClick:()=>j("homelab","start"),disabled:o||(s?.is_active??!1),title:"Start Service",children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>j("homelab","stop"),disabled:o||!(s?.is_active??!1),title:"Stop Service",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"warning",onClick:()=>j("homelab","reload"),disabled:o||!(s?.is_active??!1),title:"Reload Service",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"purple",onClick:()=>j("homelab","restart"),disabled:o,title:"Restart Service",children:e.jsx(I,{className:"w-4 h-4"})})]})})()]})}),(()=>{const s=ue.find(l=>l.network==="homelab");return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(a,{children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"IP Range"}),e.jsx(a.HeadCell,{children:"Lease Time"}),e.jsx(a.HeadCell,{children:"DNS Servers"}),e.jsx(a.HeadCell,{children:"Dynamic Domain"}),e.jsx(a.HeadCell,{children:"Status"}),e.jsx(a.HeadCell,{children:"Actions"})]}),e.jsx(a.Body,{className:"divide-y",children:e.jsxs(a.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs(a.Cell,{className:"font-mono text-sm text-gray-900 dark:text-white",children:[s.start," - ",s.end]}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.lease_time}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.dns_servers?.join(", ")||"-"}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.dynamic_domain||"-"}),e.jsx(a.Cell,{children:e.jsx(u,{color:s.enabled?"success":"gray",children:s.enabled?"Enabled":"Disabled"})}),e.jsx(a.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>M(s),children:"Reservations"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>F(s),children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{R(s),y(!0)},children:e.jsx(f,{className:"w-4 h-4"})})]})})]},s.id)})]})}),e.jsx("div",{className:"min-[1000px]:hidden",children:e.jsxs("div",{className:"p-4 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"font-mono text-sm text-gray-900 dark:text-white",children:[s.start," - ",s.end]})}),e.jsx(u,{color:s.enabled?"success":"gray",size:"sm",children:s.enabled?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Lease Time:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:s.lease_time})]}),s.dns_servers&&s.dns_servers.length>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"DNS Servers:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:s.dns_servers.join(", ")})]}),s.dynamic_domain&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Dynamic Domain:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:s.dynamic_domain})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>M(s),className:"flex-1 min-w-[100px]",children:"Reservations"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>F(s),className:"flex-1 min-w-[80px]",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{R(s),y(!0)},className:"flex-1 min-w-[80px]",children:e.jsx(f,{className:"w-4 h-4"})})]})})]})})]}):e.jsx(w,{color:"info",icon:me,children:"No DHCP network configured for HOMELAB."})})()]}),e.jsxs(ze,{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"LAN"}),(()=>{const s=ye.lan,o=we?.startsWith("lan-");return e.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[s&&e.jsx(u,{color:s.is_active?"success":"gray",size:"sm",children:s.is_active?"Running":s.is_enabled?"Stopped":"Disabled"}),e.jsx(t,{size:"xs",color:"success",onClick:()=>j("lan","start"),disabled:o||(s?.is_active??!1),title:"Start Service",children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>j("lan","stop"),disabled:o||!(s?.is_active??!1),title:"Stop Service",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"warning",onClick:()=>j("lan","reload"),disabled:o||!(s?.is_active??!1),title:"Reload Service",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"purple",onClick:()=>j("lan","restart"),disabled:o,title:"Restart Service",children:e.jsx(I,{className:"w-4 h-4"})})]})})()]})}),(()=>{const s=ue.find(l=>l.network==="lan");return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(a,{children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"IP Range"}),e.jsx(a.HeadCell,{children:"Lease Time"}),e.jsx(a.HeadCell,{children:"DNS Servers"}),e.jsx(a.HeadCell,{children:"Dynamic Domain"}),e.jsx(a.HeadCell,{children:"Status"}),e.jsx(a.HeadCell,{children:"Actions"})]}),e.jsx(a.Body,{className:"divide-y",children:e.jsxs(a.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs(a.Cell,{className:"font-mono text-sm text-gray-900 dark:text-white",children:[s.start," - ",s.end]}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.lease_time}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.dns_servers?.join(", ")||"-"}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.dynamic_domain||"-"}),e.jsx(a.Cell,{children:e.jsx(u,{color:s.enabled?"success":"gray",children:s.enabled?"Enabled":"Disabled"})}),e.jsx(a.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>M(s),children:"Reservations"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>F(s),children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{R(s),y(!0)},children:e.jsx(f,{className:"w-4 h-4"})})]})})]},s.id)})]})}),e.jsx("div",{className:"min-[1000px]:hidden",children:e.jsxs("div",{className:"p-4 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"font-mono text-sm text-gray-900 dark:text-white",children:[s.start," - ",s.end]})}),e.jsx(u,{color:s.enabled?"success":"gray",size:"sm",children:s.enabled?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Lease Time:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:s.lease_time})]}),s.dns_servers&&s.dns_servers.length>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"DNS Servers:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:s.dns_servers.join(", ")})]}),s.dynamic_domain&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Dynamic Domain:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:s.dynamic_domain})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>M(s),className:"flex-1 min-w-[100px]",children:"Reservations"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>F(s),className:"flex-1 min-w-[80px]",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{R(s),y(!0)},className:"flex-1 min-w-[80px]",children:e.jsx(f,{className:"w-4 h-4"})})]})})]})})]}):e.jsx(w,{color:"info",icon:me,children:"No DHCP network configured for LAN."})})()]}),e.jsxs(n,{show:Oe,onClose:de,size:"lg",children:[e.jsx(n.Header,{children:k?"Edit DHCP Network":"Create DHCP Network"}),e.jsx(n.Body,{className:"max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[pe&&e.jsx(w,{color:"failure",children:pe}),!k&&e.jsxs("div",{children:[e.jsx(c,{htmlFor:"networkNetwork",value:"Network *"}),e.jsxs(Ze,{id:"networkNetwork",value:ke,onChange:s=>B(s.target.value),className:"mt-1",required:!0,children:[e.jsx("option",{value:"homelab",children:"HOMELAB"}),e.jsx("option",{value:"lan",children:"LAN"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{id:"networkEnabled",checked:q,onChange:s=>K(s.target.checked)}),e.jsx(c,{htmlFor:"networkEnabled",value:"Enabled"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"networkStart",value:"IP Range Start *"}),e.jsx(x,{id:"networkStart",value:p,onChange:s=>$(s.target.value),placeholder:"192.168.2.100",required:!0,className:"mt-1 font-mono"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"networkEnd",value:"IP Range End *"}),e.jsx(x,{id:"networkEnd",value:b,onChange:s=>U(s.target.value),placeholder:"192.168.2.200",required:!0,className:"mt-1 font-mono"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"networkLeaseTime",value:"Lease Time *"}),e.jsx(x,{id:"networkLeaseTime",value:V,onChange:s=>W(s.target.value),placeholder:"1h, 1d, or 86400",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"networkDnsServers",value:"DNS Servers (comma-separated)"}),e.jsx(x,{id:"networkDnsServers",value:G,onChange:s=>J(s.target.value),placeholder:"192.168.2.1, 8.8.8.8",className:"mt-1 font-mono"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"networkDynamicDomain",value:"Dynamic DNS Domain (optional)"}),e.jsx(x,{id:"networkDynamicDomain",value:Q,onChange:s=>X(s.target.value),placeholder:"dhcp.homelab.local",className:"mt-1"})]})]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"blue",onClick:We,disabled:E||!p.trim()||!b.trim(),children:E?"Saving...":k?"Update":"Create"}),e.jsx(t,{color:"gray",onClick:de,children:"Cancel"})]})]}),e.jsxs(n,{show:Be,onClose:Re,size:"6xl",children:[e.jsx(n.Header,{children:i?`${i.network.toUpperCase()} DHCP Reservations`:"DHCP Reservations"}),e.jsxs(n.Body,{className:"max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Static IP Reservations (",z.length,")"]}),e.jsxs(t,{size:"sm",color:"blue",onClick:()=>oe(),children:[e.jsx(es,{className:"w-4 h-4 mr-1"}),"New Reservation"]})]}),z.length===0?e.jsx(w,{color:"info",icon:me,children:"No reservations configured for this network."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(a,{children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"Hostname"}),e.jsx(a.HeadCell,{children:"MAC Address"}),e.jsx(a.HeadCell,{children:"IP Address"}),e.jsx(a.HeadCell,{children:"Comment"}),e.jsx(a.HeadCell,{children:"Status"}),e.jsx(a.HeadCell,{children:"Actions"})]}),e.jsx(a.Body,{className:"divide-y",children:z.map(s=>e.jsxs(a.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(a.Cell,{className:"font-medium text-gray-900 dark:text-white",children:s.hostname}),e.jsx(a.Cell,{className:"font-mono text-sm text-gray-500 dark:text-gray-400",children:s.hw_address}),e.jsx(a.Cell,{className:"font-mono text-sm text-gray-900 dark:text-white",children:s.ip_address}),e.jsx(a.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.comment||"-"}),e.jsx(a.Cell,{children:e.jsx(u,{color:s.enabled?"success":"gray",children:s.enabled?"Enabled":"Disabled"})}),e.jsx(a.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"gray",onClick:()=>oe(s),children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{ie(s),_(!0)},children:e.jsx(f,{className:"w-4 h-4"})})]})})]},s.id))})]})}),e.jsx("div",{className:"min-[1000px]:hidden space-y-3",children:z.map(s=>e.jsxs("div",{className:"p-3 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:s.hostname}),e.jsx(u,{color:s.enabled?"success":"gray",size:"sm",children:s.enabled?"Enabled":"Disabled"})]})}),e.jsxs("div",{className:"space-y-1 text-sm mb-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"MAC Address:"}),e.jsx("span",{className:"font-mono text-xs text-gray-900 dark:text-gray-100 break-all",children:s.hw_address})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"IP Address:"}),e.jsx("span",{className:"font-mono text-xs text-gray-900 dark:text-gray-100",children:s.ip_address})]}),s.comment&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Comment:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 text-xs",children:s.comment})]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700 flex gap-2",children:[e.jsx(t,{size:"xs",color:"gray",onClick:()=>oe(s),className:"flex-1",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{ie(s),_(!0)},className:"flex-1",children:e.jsx(f,{className:"w-4 h-4"})})]})]},s.id))})]})]}),e.jsx(n.Footer,{children:e.jsx(t,{color:"gray",onClick:Re,children:"Close"})})]}),e.jsxs(n,{show:qe,onClose:xe,size:"lg",children:[e.jsx(n.Header,{children:S?"Edit Reservation":"Create Reservation"}),e.jsx(n.Body,{className:"max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[He&&e.jsx(w,{color:"failure",children:He}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"reservationHostname",value:"Hostname *"}),e.jsx(x,{id:"reservationHostname",value:D,onChange:s=>Z(s.target.value),placeholder:"desktop",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"reservationHwAddress",value:"MAC Address *"}),e.jsx(x,{id:"reservationHwAddress",value:h,onChange:s=>ee(s.target.value),placeholder:"11:22:33:44:55:66",required:!0,className:"mt-1 font-mono"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"reservationIpAddress",value:"IP Address *"}),e.jsxs("div",{className:"mt-1 flex gap-2 items-center",children:[e.jsx(x,{id:"reservationIpAddress",value:H,onChange:s=>A(s.target.value),placeholder:"192.168.2.50",required:!0,className:"font-mono flex-1"}),!S&&i&&e.jsx(t,{color:"light",size:"sm",onClick:Je,disabled:!h.trim(),title:"Fill IP from current lease or device history",children:"Suggest IP"})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"reservationComment",value:"Comment (optional)"}),e.jsx(x,{id:"reservationComment",value:se,onChange:s=>ae(s.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{id:"reservationEnabled",checked:te,onChange:s=>re(s.target.checked)}),e.jsx(c,{htmlFor:"reservationEnabled",value:"Enabled"})]})]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"blue",onClick:Qe,disabled:E||!D.trim()||!h.trim()||!H.trim(),children:E?"Saving...":S?"Update":"Create"}),e.jsx(t,{color:"gray",onClick:xe,children:"Cancel"})]})]}),e.jsxs(n,{show:Ke,onClose:()=>y(!1),size:"md",children:[e.jsx(n.Header,{children:"Delete DHCP Network"}),e.jsx(n.Body,{children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to delete the DHCP network for ",e.jsx("strong",{children:le?.network}),"? This will also delete all reservations for this network."]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"failure",onClick:Ge,children:"Delete"}),e.jsx(t,{color:"gray",onClick:()=>y(!1),children:"Cancel"})]})]}),e.jsxs(n,{show:$e,onClose:()=>_(!1),size:"md",children:[e.jsx(n.Header,{children:"Delete Reservation"}),e.jsx(n.Body,{children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to delete the reservation for ",e.jsx("strong",{children:ne?.hostname}),"?"]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"failure",onClick:Xe,children:"Delete"}),e.jsx(t,{color:"gray",onClick:()=>_(!1),children:"Cancel"})]})]})]})})]})]})}export{os as Dhcp};
