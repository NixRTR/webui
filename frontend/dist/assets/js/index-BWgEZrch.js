const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Dashboard-BuNo01eU.js","assets/js/ui-vendor-spcouQ_w.js","assets/js/react-vendor-DKKOAuGG.js","assets/js/useMetrics-DVnqeG2I.js","assets/js/http-vendor-B9ygI19o.js","assets/js/Network-DPDdBhWY.js","assets/js/CustomTooltip-B9h7XiYn.js","assets/js/charts-B4vmDJji.js","assets/js/Clients-cJGGuA1x.js","assets/js/DeviceUsage-RENVGCU-.js","assets/js/ConnectionDetails-BslY-Y_y.js","assets/js/System-BScovEAq.js","assets/js/SystemInfo-ByaFy0Og.js","assets/js/Documentation-DTS9mzom.js","assets/js/Speedtest-BVGyjrmk.js","assets/js/TrafficShaping-Cd3anq4b.js","assets/js/Apprise-NlWJUl6b.js","assets/js/Notifications-C49694sO.js"])))=>i.map(i=>d[i]);
import{j as e,C as I,A as P,L as w,T as _,B as A}from"./ui-vendor-spcouQ_w.js";import{e as C,g as L,r as i,u as N,B as D,f as O,h as l,N as E,R as T}from"./react-vendor-DKKOAuGG.js";import{a as $}from"./http-vendor-B9ygI19o.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var x={},S;function z(){if(S)return x;S=1;var n=C();return x.createRoot=n.createRoot,x.hydrateRoot=n.hydrateRoot,x}var B=z();const V=L(B),U="modulepreload",q=function(n){return"/"+n},v={},f=function(t,s,r){let a=Promise.resolve();if(s&&s.length>0){let j=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");a=j(s.map(h=>{if(h=q(h),h in v)return;v[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":U,m||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),m)return new Promise((k,R)=>{y.addEventListener("load",k),y.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},H="";class F{client;constructor(){this.client=$.create({baseURL:H,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(t=>{const s=localStorage.getItem("access_token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("username"),window.location.href="/login"),Promise.reject(t)))}async login(t){return(await this.client.post("/api/auth/login",t)).data}async logout(){await this.client.post("/api/auth/logout"),localStorage.removeItem("access_token"),localStorage.removeItem("username")}async getCurrentUser(){return(await this.client.get("/api/auth/me")).data}async getSystemHistory(t,s,r){const a={};return t&&(a.start=t.toISOString()),s&&(a.end=s.toISOString()),r&&(a.interval=r.toString()),(await this.client.get("/api/history/system",{params:a})).data}async getInterfaceHistory(t,s,r,a){const o={};return s&&(o.start=s.toISOString()),r&&(o.end=r.toISOString()),a&&(o.interval=a.toString()),(await this.client.get(`/api/history/interface/${t}`,{params:o})).data}async getBandwidthHistory(t,s="1h"){return(await this.client.get(`/api/history/bandwidth/${t}`,{params:{period:s}})).data}async healthCheck(){return(await this.client.get("/api/health")).data}async getCurrentClientBandwidth(){return(await this.client.get("/api/bandwidth/clients/current")).data}async getClientBandwidthHistory(t,s="1h",r="raw"){return(await this.client.get(`/api/bandwidth/clients/${t}`,{params:{range:s,interval:r}})).data}async getBulkClientBandwidthHistory(t="1h",s="raw"){return(await this.client.get("/api/bandwidth/clients/history/bulk",{params:{range:t,interval:s}})).data}async getCurrentInterfaceStats(){return(await this.client.get("/api/bandwidth/interfaces/current")).data}async getInterfaceTotals(t="1h"){return(await this.client.get("/api/bandwidth/interfaces/totals",{params:{range:t}})).data}async getClientConnections(t,s="1h"){return(await this.client.get(`/api/bandwidth/connections/${t}/current`,{params:{range:s}})).data}async getConnectionHistory(t,s,r,a="1h",o="raw"){return(await this.client.get(`/api/bandwidth/connections/${t}/history`,{params:{remote_ip:s,remote_port:r,range:a,interval:o}})).data}async getFastfetch(){return(await this.client.get("/api/system/fastfetch")).data}async getGitHubStats(){return(await this.client.get("/api/system/github-stats")).data}async getDocumentation(){return(await this.client.get("/api/system/documentation")).data}async getCakeStatus(){return(await this.client.get("/api/cake/status")).data}async getCurrentCakeStats(){return(await this.client.get("/api/cake/current")).data}async getNotificationRules(){return(await this.client.get("/api/notifications/rules")).data}async getNotificationParameters(){return(await this.client.get("/api/notifications/parameters")).data}async createNotificationRule(t){return(await this.client.post("/api/notifications/rules",t)).data}async updateNotificationRule(t,s){return(await this.client.put(`/api/notifications/rules/${t}`,s)).data}async deleteNotificationRule(t){await this.client.delete(`/api/notifications/rules/${t}`)}async getNotificationHistory(t,s=50){return(await this.client.get(`/api/notifications/rules/${t}/history`,{params:{limit:s}})).data}async testNotificationRule(t){return(await this.client.post(`/api/notifications/rules/${t}/test`,{})).data}async getAppriseStatus(){return(await this.client.get("/api/apprise/status")).data}async getAppriseServices(){return(await this.client.get("/api/apprise/services")).data}async getAppriseConfig(){return(await this.client.get("/api/apprise/config")).data}async sendAppriseNotification(t,s,r){return(await this.client.post("/api/apprise/notify",{body:t,title:s,notification_type:r})).data}async testAppriseService(t){return(await this.client.post(`/api/apprise/test/${t}`)).data}async sendAppriseNotificationToService(t,s,r,a){return(await this.client.post(`/api/apprise/send/${t}`,{body:s,title:r,notification_type:a})).data}async getCakeHistory(t="1h",s){const r={range:t};return s&&(r.interface=s),(await this.client.get("/api/cake/history",{params:r})).data}}const M=new F;function W(){const[n,t]=i.useState(""),[s,r]=i.useState(""),[a,o]=i.useState(""),[c,u]=i.useState(!1),j=N(),h=async m=>{m.preventDefault(),o(""),u(!0);try{const g=await M.login({username:n,password:s});localStorage.setItem("access_token",g.access_token),localStorage.setItem("username",g.username),j("/dashboard")}catch(g){o(g.response?.data?.detail||"Login failed")}finally{u(!1)}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:e.jsxs(I,{className:"w-full max-w-md",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:"Router WebUI"}),a&&e.jsx(P,{color:"failure",className:"mb-4",children:a}),e.jsxs("form",{onSubmit:h,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"username",value:"Username"}),e.jsx(_,{id:"username",type:"text",placeholder:"Enter your username",value:n,onChange:m=>t(m.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"password",value:"Password"}),e.jsx(_,{id:"password",type:"password",placeholder:"Enter your password",value:s,onChange:m=>r(m.target.value),required:!0})]}),e.jsx(A,{type:"submit",disabled:c,children:c?"Logging in...":"Sign in"})]})]})})}const G=i.lazy(()=>f(()=>import("./Dashboard-BuNo01eU.js"),__vite__mapDeps([0,1,2,3,4])).then(n=>({default:n.Dashboard}))),K=i.lazy(()=>f(()=>import("./Network-DPDdBhWY.js"),__vite__mapDeps([5,1,2,3,6,7,4])).then(n=>({default:n.Network}))),J=i.lazy(()=>f(()=>import("./Clients-cJGGuA1x.js"),__vite__mapDeps([8,1,2,3,4])).then(n=>({default:n.Clients}))),Q=i.lazy(()=>f(()=>import("./DeviceUsage-RENVGCU-.js"),__vite__mapDeps([9,1,2,6,3,7,4])).then(n=>({default:n.DeviceUsage}))),b=i.lazy(()=>f(()=>import("./ConnectionDetails-BslY-Y_y.js"),__vite__mapDeps([10,1,2,6,3,7,4])).then(n=>({default:n.ConnectionDetails}))),X=i.lazy(()=>f(()=>import("./System-BScovEAq.js"),__vite__mapDeps([11,1,2,6,3,7,4])).then(n=>({default:n.System}))),Y=i.lazy(()=>f(()=>import("./SystemInfo-ByaFy0Og.js"),__vite__mapDeps([12,1,2,3,4])).then(n=>({default:n.SystemInfo}))),Z=i.lazy(()=>f(()=>import("./Documentation-DTS9mzom.js"),__vite__mapDeps([13,1,2,3,4])).then(n=>({default:n.Documentation}))),ee=i.lazy(()=>f(()=>import("./Speedtest-BVGyjrmk.js"),__vite__mapDeps([14,1,2,6,3,7,4])).then(n=>({default:n.Speedtest}))),te=i.lazy(()=>f(()=>import("./TrafficShaping-Cd3anq4b.js"),__vite__mapDeps([15,1,2,3,6,7,4])).then(n=>({default:n.TrafficShaping}))),se=i.lazy(()=>f(()=>import("./Apprise-NlWJUl6b.js"),__vite__mapDeps([16,1,2,3,4])).then(n=>({default:n.Apprise}))),ne=i.lazy(()=>f(()=>import("./Notifications-C49694sO.js"),__vite__mapDeps([17,1,2,3,4])).then(n=>({default:n.Notifications}))),p=()=>e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})});function d({children:n}){return localStorage.getItem("access_token")?e.jsx(e.Fragment,{children:n}):e.jsx(E,{to:"/login",replace:!0})}function ae(){return e.jsx(D,{children:e.jsxs(O,{children:[e.jsx(l,{path:"/login",element:e.jsx(W,{})}),e.jsx(l,{path:"/dashboard",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(G,{})})})}),e.jsx(l,{path:"/network",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(K,{})})})}),e.jsx(l,{path:"/devices",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(J,{})})})}),e.jsx(l,{path:"/device-usage",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(Q,{})})})}),e.jsx(l,{path:"/device-usage/:ipAddress",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(b,{sourcePage:"device-usage"})})})}),e.jsx(l,{path:"/devices/:ipAddress",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(b,{sourcePage:"devices"})})})}),e.jsx(l,{path:"/system",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(X,{})})})}),e.jsx(l,{path:"/system-info",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(Y,{})})})}),e.jsx(l,{path:"/documentation",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(Z,{})})})}),e.jsx(l,{path:"/speedtest",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(ee,{})})})}),e.jsx(l,{path:"/traffic-shaping",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(te,{})})})}),e.jsx(l,{path:"/apprise",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(se,{})})})}),e.jsx(l,{path:"/notifications",element:e.jsx(d,{children:e.jsx(i.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(ne,{})})})}),e.jsx(l,{path:"/",element:e.jsx(E,{to:"/dashboard",replace:!0})})]})})}(()=>{try{const n=localStorage.getItem("theme"),t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=n?n==="dark":t,r=document.documentElement;s?r.classList.add("dark"):r.classList.remove("dark")}catch{}})();V.createRoot(document.getElementById("root")).render(e.jsx(T.StrictMode,{children:e.jsx(ae,{})}));export{M as a};
