import{j as e,r as Je,A as w,C as Ae,B as t,n as Te,b as l,a as x,d as b,s as $,t as I,u as j,o as k,M as n,L as m,T as C,S as Ze,v as Qe}from"./ui-vendor-CT-4tH1q.js";import{u as Xe,r as i}from"./react-vendor-DKKOAuGG.js";import{u as es,S as ss,N as as}from"./useMetrics-383_OR61.js";import{a as h}from"./index-BXCKXyl5.js";import"./http-vendor-B9ygI19o.js";function ns(){const q=localStorage.getItem("access_token"),Ee=localStorage.getItem("username")||"Unknown",we=Xe(),[fe,pe]=i.useState(!1),[ye,Me]=i.useState([]),[Oe,be]=i.useState(!0),[ke,g]=i.useState(null),[Be,Le]=i.useState({}),[T,Ce]=i.useState(null),[Ve,Se]=i.useState(!1),[Z,z]=i.useState(null),[S,P]=i.useState(""),[K,W]=i.useState("homelab"),[Y,U]=i.useState(!0),[G,J]=i.useState(""),[Q,X]=i.useState(""),[ee,se]=i.useState(!0),[E,v]=i.useState(!1),[Re,R]=i.useState(null),[$e,De]=i.useState(!1),[Ie,_e]=i.useState(!1),[c,ae]=i.useState(null),[le,Fe]=i.useState([]),[te,re]=i.useState(null),[D,ie]=i.useState(""),[_,ce]=i.useState("A"),[F,ne]=i.useState(""),[oe,de]=i.useState(""),[xe,me]=i.useState(!0),[M,f]=i.useState(null),[qe,N]=i.useState(!1),[ze,H]=i.useState(!1),[O,A]=i.useState(null),[he,ue]=i.useState(null),{connectionStatus:Pe}=es(q);i.useEffect(()=>{if(!q){we("/login");return}je(),He()},[q]);const je=async()=>{be(!0),g(null);try{const s=await h.getDnsZones();Me(s)}catch(s){g(s?.response?.data?.detail||s.message||"Failed to load DNS zones")}finally{be(!1)}},He=async()=>{try{const[s,a]=await Promise.all([h.getDnsServiceStatus("homelab"),h.getDnsServiceStatus("lan")]);Le({homelab:s,lan:a})}catch(s){console.error("Failed to fetch DNS service statuses:",s)}},d=async(s,a)=>{const r=`${s}-${a}`;Ce(r);try{await h.controlDnsService(s,a),setTimeout(()=>{He()},1e3)}catch(u){g(u?.response?.data?.detail||u.message||`Failed to ${a} DNS service`)}finally{Ce(null)}},p=s=>{const a=Be[s.network];return!a||!a.exists?{is_active:!1,is_enabled:!1}:{is_active:a.is_active,is_enabled:a.is_enabled}},B=async(s,a)=>{try{const r=await h.getDnsRecords(s,a);Fe(r)}catch(r){g(r?.response?.data?.detail||r.message||"Failed to load DNS records")}},Ke=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("username"),we("/login")},y=(s,a)=>{s?(z(s),P(s.name),W(s.network),U(s.authoritative),J(s.forward_to||""),X(s.delegate_to||""),se(s.enabled)):(z(null),P(""),W(a||"homelab"),U(!0),J(""),X(""),se(!0)),R(null),Se(!0)},ge=()=>{Se(!1),z(null),R(null)},We=async()=>{R(null),v(!0);try{if(!S.trim()){R("Zone name is required"),v(!1);return}if(Z){const s={name:S.trim(),network:K,authoritative:Y,forward_to:G.trim()||null,delegate_to:Q.trim()||null,enabled:ee};await h.updateDnsZone(Z.name,Z.network,s)}else{const s={name:S.trim(),network:K,authoritative:Y,forward_to:G.trim()||null,delegate_to:Q.trim()||null,enabled:ee};await h.createDnsZone(s)}await je(),ge()}catch(s){R(s?.response?.data?.detail||s.message||"Failed to save zone")}finally{v(!1)}},Ye=async()=>{if(O)try{await h.deleteDnsZone(O.name,O.network),await je(),N(!1),A(null)}catch(s){g(s?.response?.data?.detail||s.message||"Failed to delete zone")}},L=async s=>{ae(s),await B(s.name,s.network),De(!0)},ve=(s,a)=>{ae(s),a?(re(a),ie(a.name),ce(a.type),ne(a.value),de(a.comment||""),me(a.enabled)):(re(null),ie(""),ce("A"),ne(""),de(""),me(!0)),f(null),_e(!0)},V=()=>{De(!1),ae(null),Fe([])},Ne=()=>{_e(!1),re(null),f(null),c&&B(c.name,c.network)},Ue=async()=>{if(c){f(null),v(!0);try{if(!D.trim()){f("Record name is required"),v(!1);return}if(!F.trim()){f("Record value is required"),v(!1);return}if(te){const s={name:D.trim(),type:_,value:F.trim(),comment:oe.trim()||null,enabled:xe};await h.updateDnsRecord(te.name,c.network,c.name,s)}else{const s={name:D.trim(),type:_,value:F.trim(),comment:oe.trim()||null,enabled:xe};await h.createDnsRecord(c.name,c.network,s)}await B(c.name,c.network),Ne()}catch(s){f(s?.response?.data?.detail||s.message||"Failed to save record")}finally{v(!1)}}},Ge=async()=>{if(!(!he||!c))try{await h.deleteDnsRecord(he.name,c.network,c.name),await B(c.name,c.network),H(!1),ue(null)}catch(s){g(s?.response?.data?.detail||s.message||"Failed to delete record")}};return Oe?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading DNS zones..."})]})}):e.jsxs("div",{className:"flex h-screen",children:[e.jsx(ss,{onLogout:Ke,isOpen:fe,onClose:()=>pe(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(as,{hostname:"nixos-router",username:Ee,connectionStatus:Pe,onMenuClick:()=>pe(!fe)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Je,{className:"w-8 h-8 text-gray-900 dark:text-white"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"DNS Management"})]})}),ke&&e.jsx(w,{color:"failure",className:"mb-6",onDismiss:()=>g(null),children:ke}),e.jsxs(Ae,{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"HOMELAB"}),e.jsx(t,{color:"blue",onClick:()=>y(void 0,"homelab"),children:"New Zone"})]}),(()=>{const s=ye.filter(a=>a.network==="homelab");return s.length===0?e.jsx(w,{color:"info",icon:Te,children:"No DNS zones configured for HOMELAB. Create a zone to get started."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(l,{children:[e.jsxs(l.Head,{children:[e.jsx(l.HeadCell,{children:"Name"}),e.jsx(l.HeadCell,{children:"Authoritative"}),e.jsx(l.HeadCell,{children:"Forward To"}),e.jsx(l.HeadCell,{children:"Delegate To"}),e.jsx(l.HeadCell,{children:"Status"}),e.jsx(l.HeadCell,{children:"Actions"})]}),e.jsx(l.Body,{className:"divide-y",children:s.map(a=>e.jsxs(l.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(l.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:a.name}),e.jsx(l.Cell,{children:e.jsx(x,{color:a.authoritative?"success":"gray",children:a.authoritative?"Yes":"No"})}),e.jsx(l.Cell,{className:"text-gray-500 dark:text-gray-400",children:a.forward_to||"-"}),e.jsx(l.Cell,{className:"text-gray-500 dark:text-gray-400",children:a.delegate_to||"-"}),e.jsx(l.Cell,{children:(()=>{const r=p(a);return e.jsx(x,{color:r.is_active?"success":"gray",children:r.is_active?"Running":r.is_enabled?"Stopped":"Disabled"})})()}),e.jsx(l.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>L(a),children:"Records"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>y(a),children:e.jsx(b,{className:"w-4 h-4"})}),(()=>{const r=p(a),u=`${a.network}-`,o=T?.startsWith(u);return e.jsxs(e.Fragment,{children:[e.jsx(t,{size:"xs",color:"success",onClick:()=>d(a.network,"start"),disabled:o||r.is_active,title:"Start Service",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>d(a.network,"stop"),disabled:o||!r.is_active,title:"Stop Service",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"warning",onClick:()=>d(a.network,"reload"),disabled:o||!r.is_active,title:"Reload Service",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"purple",onClick:()=>d(a.network,"restart"),disabled:o,title:"Restart Service",children:e.jsx(j,{className:"w-4 h-4"})})]})})(),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{A(a),N(!0)},children:e.jsx(k,{className:"w-4 h-4"})})]})})]},a.id))})]})}),e.jsx("div",{className:"min-[1000px]:hidden space-y-3",children:s.map(a=>{const r=p(a),u=`${a.network}-`,o=T?.startsWith(u);return e.jsxs("div",{className:"p-4 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"font-semibold text-lg mb-1 text-gray-900 dark:text-white",children:a.name})}),e.jsx(x,{color:r.is_active?"success":"gray",size:"sm",children:r.is_active?"Running":r.is_enabled?"Stopped":"Disabled"})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Authoritative:"}),e.jsx(x,{color:a.authoritative?"success":"gray",size:"sm",children:a.authoritative?"Yes":"No"})]}),a.forward_to&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Forward To:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:a.forward_to})]}),a.delegate_to&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Delegate To:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:a.delegate_to})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex gap-2 mb-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>L(a),className:"flex-1 min-w-[80px]",children:"Records"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>y(a),className:"flex-1 min-w-[80px]",children:e.jsx(b,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{A(a),N(!0)},className:"flex-1 min-w-[80px]",children:e.jsx(k,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"success",onClick:()=>d(a.network,"start"),disabled:o||r.is_active,title:"Start Service",className:"flex-1 min-w-[70px]",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>d(a.network,"stop"),disabled:o||!r.is_active,title:"Stop Service",className:"flex-1 min-w-[70px]",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"warning",onClick:()=>d(a.network,"reload"),disabled:o||!r.is_active,title:"Reload Service",className:"flex-1 min-w-[70px]",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"purple",onClick:()=>d(a.network,"restart"),disabled:o,title:"Restart Service",className:"flex-1 min-w-[70px]",children:e.jsx(j,{className:"w-4 h-4"})})]})]})]},a.id)})})]})})()]}),e.jsxs(Ae,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"LAN"}),e.jsx(t,{color:"blue",onClick:()=>y(void 0,"lan"),children:"New Zone"})]}),(()=>{const s=ye.filter(a=>a.network==="lan");return s.length===0?e.jsx(w,{color:"info",icon:Te,children:"No DNS zones configured for LAN. Create a zone to get started."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(l,{children:[e.jsxs(l.Head,{children:[e.jsx(l.HeadCell,{children:"Name"}),e.jsx(l.HeadCell,{children:"Authoritative"}),e.jsx(l.HeadCell,{children:"Forward To"}),e.jsx(l.HeadCell,{children:"Delegate To"}),e.jsx(l.HeadCell,{children:"Status"}),e.jsx(l.HeadCell,{children:"Actions"})]}),e.jsx(l.Body,{className:"divide-y",children:s.map(a=>e.jsxs(l.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(l.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:a.name}),e.jsx(l.Cell,{children:e.jsx(x,{color:a.authoritative?"success":"gray",children:a.authoritative?"Yes":"No"})}),e.jsx(l.Cell,{className:"text-gray-500 dark:text-gray-400",children:a.forward_to||"-"}),e.jsx(l.Cell,{className:"text-gray-500 dark:text-gray-400",children:a.delegate_to||"-"}),e.jsx(l.Cell,{children:(()=>{const r=p(a);return e.jsx(x,{color:r.is_active?"success":"gray",children:r.is_active?"Running":r.is_enabled?"Stopped":"Disabled"})})()}),e.jsx(l.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>L(a),children:"Records"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>y(a),children:e.jsx(b,{className:"w-4 h-4"})}),(()=>{const r=p(a),u=`${a.network}-`,o=T?.startsWith(u);return e.jsxs(e.Fragment,{children:[e.jsx(t,{size:"xs",color:"success",onClick:()=>d(a.network,"start"),disabled:o||r.is_active,title:"Start Service",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>d(a.network,"stop"),disabled:o||!r.is_active,title:"Stop Service",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"warning",onClick:()=>d(a.network,"reload"),disabled:o||!r.is_active,title:"Reload Service",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"purple",onClick:()=>d(a.network,"restart"),disabled:o,title:"Restart Service",children:e.jsx(j,{className:"w-4 h-4"})})]})})(),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{A(a),N(!0)},children:e.jsx(k,{className:"w-4 h-4"})})]})})]},a.id))})]})}),e.jsx("div",{className:"min-[1000px]:hidden space-y-3",children:s.map(a=>{const r=p(a),u=`${a.network}-`,o=T?.startsWith(u);return e.jsxs("div",{className:"p-4 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"font-semibold text-lg mb-1 text-gray-900 dark:text-white",children:a.name})}),e.jsx(x,{color:r.is_active?"success":"gray",size:"sm",children:r.is_active?"Running":r.is_enabled?"Stopped":"Disabled"})]}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Authoritative:"}),e.jsx(x,{color:a.authoritative?"success":"gray",size:"sm",children:a.authoritative?"Yes":"No"})]}),a.forward_to&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Forward To:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:a.forward_to})]}),a.delegate_to&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Delegate To:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-mono text-xs",children:a.delegate_to})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex gap-2 mb-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"blue",onClick:()=>L(a),className:"flex-1 min-w-[80px]",children:"Records"}),e.jsx(t,{size:"xs",color:"gray",onClick:()=>y(a),className:"flex-1 min-w-[80px]",children:e.jsx(b,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{A(a),N(!0)},className:"flex-1 min-w-[80px]",children:e.jsx(k,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"success",onClick:()=>d(a.network,"start"),disabled:o||r.is_active,title:"Start Service",className:"flex-1 min-w-[70px]",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>d(a.network,"stop"),disabled:o||!r.is_active,title:"Stop Service",className:"flex-1 min-w-[70px]",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"warning",onClick:()=>d(a.network,"reload"),disabled:o||!r.is_active,title:"Reload Service",className:"flex-1 min-w-[70px]",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"purple",onClick:()=>d(a.network,"restart"),disabled:o,title:"Restart Service",className:"flex-1 min-w-[70px]",children:e.jsx(j,{className:"w-4 h-4"})})]})]})]},a.id)})})]})})()]}),e.jsxs(n,{show:Ve,onClose:ge,size:"lg",children:[e.jsx(n.Header,{children:Z?"Edit DNS Zone":"Create DNS Zone"}),e.jsx(n.Body,{className:"max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[Re&&e.jsx(w,{color:"failure",children:Re}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"zoneName",value:"Zone Name *"}),e.jsx(C,{id:"zoneName",value:S,onChange:s=>P(s.target.value),placeholder:"example.com",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"zoneNetwork",value:"Network *"}),e.jsxs(Ze,{id:"zoneNetwork",value:K,onChange:s=>W(s.target.value),className:"mt-1",children:[e.jsx("option",{value:"homelab",children:"HOMELAB"}),e.jsx("option",{value:"lan",children:"LAN"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"zoneAuthoritative",checked:Y,onChange:s=>U(s.target.checked),className:"w-4 h-4"}),e.jsx(m,{htmlFor:"zoneAuthoritative",value:"Authoritative (serve locally)"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"zoneForwardTo",value:"Forward To (optional)"}),e.jsx(C,{id:"zoneForwardTo",value:G,onChange:s=>J(s.target.value),placeholder:"192.168.1.1",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"zoneDelegateTo",value:"Delegate To (optional)"}),e.jsx(C,{id:"zoneDelegateTo",value:Q,onChange:s=>X(s.target.value),placeholder:"ns1.example.com",className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"zoneEnabled",checked:ee,onChange:s=>se(s.target.checked),className:"w-4 h-4"}),e.jsx(m,{htmlFor:"zoneEnabled",value:"Enabled"})]})]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"blue",onClick:We,disabled:E||!S.trim(),children:E?"Saving...":"Save"}),e.jsx(t,{color:"gray",onClick:ge,children:"Cancel"})]})]}),e.jsxs(n,{show:$e,onClose:V,size:"4xl",children:[e.jsx(n.Header,{children:c?`${c.network.toUpperCase()} DNS Records - ${c.name}`:"DNS Records"}),e.jsx(n.Body,{className:"max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[M&&e.jsx(w,{color:"failure",children:M}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Records"}),c&&e.jsxs(t,{size:"sm",color:"blue",onClick:()=>ve(c),children:[e.jsx(Qe,{className:"w-4 h-4 mr-1"}),"Add Record"]})]}),le.length===0?e.jsx(w,{color:"info",children:"No records in this zone. Add a record to get started."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden min-[1000px]:block overflow-x-auto",children:e.jsxs(l,{children:[e.jsxs(l.Head,{children:[e.jsx(l.HeadCell,{children:"Name"}),e.jsx(l.HeadCell,{children:"Type"}),e.jsx(l.HeadCell,{children:"Value"}),e.jsx(l.HeadCell,{children:"Comment"}),e.jsx(l.HeadCell,{children:"Status"}),e.jsx(l.HeadCell,{children:"Actions"})]}),e.jsx(l.Body,{className:"divide-y",children:le.map(s=>e.jsxs(l.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(l.Cell,{className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsx(l.Cell,{children:e.jsx(x,{color:s.type==="A"?"blue":"purple",children:s.type})}),e.jsx(l.Cell,{className:"font-mono text-sm text-gray-900 dark:text-white",children:s.value}),e.jsx(l.Cell,{className:"text-gray-500 dark:text-gray-400",children:s.comment||"-"}),e.jsx(l.Cell,{children:e.jsx(x,{color:s.enabled?"success":"gray",children:s.enabled?"Enabled":"Disabled"})}),e.jsx(l.Cell,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(t,{size:"xs",color:"gray",onClick:()=>{V(),ve(c,s)},children:e.jsx(b,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{ue(s),H(!0)},children:e.jsx(k,{className:"w-4 h-4"})})]})})]},s.id))})]})}),e.jsx("div",{className:"min-[1000px]:hidden space-y-3",children:le.map(s=>e.jsxs("div",{className:"p-3 rounded-lg border bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:s.name}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(x,{color:s.type==="A"?"blue":"purple",size:"sm",children:s.type}),e.jsx(x,{color:s.enabled?"success":"gray",size:"sm",children:s.enabled?"Enabled":"Disabled"})]})]})}),e.jsxs("div",{className:"space-y-1 text-sm mb-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Value:"}),e.jsx("span",{className:"font-mono text-xs text-gray-900 dark:text-gray-100 break-all",children:s.value})]}),s.comment&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Comment:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 text-xs",children:s.comment})]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700 flex gap-2",children:[e.jsx(t,{size:"xs",color:"gray",onClick:()=>{V(),ve(c,s)},className:"flex-1",children:e.jsx(b,{className:"w-4 h-4"})}),e.jsx(t,{size:"xs",color:"failure",onClick:()=>{ue(s),H(!0)},className:"flex-1",children:e.jsx(k,{className:"w-4 h-4"})})]})]},s.id))})]})]})}),e.jsx(n.Footer,{children:e.jsx(t,{color:"gray",onClick:V,children:"Close"})})]}),e.jsxs(n,{show:Ie,onClose:Ne,size:"lg",children:[e.jsx(n.Header,{children:te?"Edit DNS Record":"Create DNS Record"}),e.jsx(n.Body,{className:"max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[M&&e.jsx(w,{color:"failure",children:M}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"recordName",value:"Record Name *"}),e.jsx(C,{id:"recordName",value:D,onChange:s=>ie(s.target.value),placeholder:"hostname.example.com",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"recordType",value:"Record Type *"}),e.jsxs(Ze,{id:"recordType",value:_,onChange:s=>ce(s.target.value),className:"mt-1",children:[e.jsx("option",{value:"A",children:"A (IPv4 Address)"}),e.jsx("option",{value:"CNAME",children:"CNAME (Alias)"})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"recordValue",value:_==="A"?"IP Address *":"Target Hostname *"}),e.jsx(C,{id:"recordValue",value:F,onChange:s=>ne(s.target.value),placeholder:_==="A"?"192.168.1.1":"target.example.com",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"recordComment",value:"Comment (optional)"}),e.jsx(C,{id:"recordComment",value:oe,onChange:s=>de(s.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"recordEnabled",checked:xe,onChange:s=>me(s.target.checked),className:"w-4 h-4"}),e.jsx(m,{htmlFor:"recordEnabled",value:"Enabled"})]})]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"blue",onClick:Ue,disabled:E||!D.trim()||!F.trim(),children:E?"Saving...":"Save"}),e.jsx(t,{color:"gray",onClick:Ne,children:"Cancel"})]})]}),e.jsxs(n,{show:qe,onClose:()=>N(!1),size:"md",children:[e.jsx(n.Header,{children:"Delete Zone"}),e.jsx(n.Body,{children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to delete zone ",e.jsx("strong",{children:O?.name}),"? This will also delete all records in this zone."]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"failure",onClick:Ye,children:"Delete"}),e.jsx(t,{color:"gray",onClick:()=>N(!1),children:"Cancel"})]})]}),e.jsxs(n,{show:ze,onClose:()=>H(!1),size:"md",children:[e.jsx(n.Header,{children:"Delete Record"}),e.jsx(n.Body,{children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to delete record ",e.jsx("strong",{children:he?.name}),"?"]})}),e.jsxs(n.Footer,{children:[e.jsx(t,{color:"failure",onClick:Ge,children:"Delete"}),e.jsx(t,{color:"gray",onClick:()=>H(!1),children:"Cancel"})]})]})]})})]})]})}export{ns as Dns};
